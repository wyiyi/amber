---
title:  2021年度总结与经验分享
date: 2021.12.24 
tags: 2021
categories: 总结 
mathjax: true 
---

## 2021年度总结与经验分享 

和大家分享我的2021年的经历与经验，
ppt分为三部分：回顾过往、与你分享、加油2022

### 回顾过往

#### 一、核心
对于核心的工作：新增了7模块、维护51个模块、改动代码量前台2w多、后台1w多
- 门诊方面：我主要是门诊挂号、收费明细汇总、期初导入收费项目
- 住院方面：出入院以及入院修改
- 新医保接口完善
- 对于数据适配mysql和oracle的版本以及适配后的对应功能修改
- 参与了持续集成teamcity的部署以及编制测试用例的Demo
- 最后搭建了公众号的雏形，目前有24位关注者

#### 二、项目上线和维护
上线了一省一市，维护了老医保的5个地市，共涉及2w多家。
其中一省指河南省，河南作为我接触的第一个省级项目，与以往不同的是：嵌入了门户系统、使用OceanBase 数据库、以及住院的需求。

一市指西藏拉萨市，拉萨历经网络来回转换、办公地点和酒店等的九九八十一难最终取得一家的真经，也算是成果吧。

对于安徽阜阳和长沙宁乡两个城市的老医保，我基本都是部署服务以及前期的接口开发。

南昌、景德镇、新疆这三个都是1.0 acap 的版本，
主要就是后期维护省市互通以及异地的调整、景德镇的库存同步以及日常维护、新疆就是国家贯标的需求等。

### 与你分享

#### 一、我的代码丢了？
现象：之前遇到过几次已经提交的代码，被其他提交覆盖。

主要原因：所有人可以直接向开发分支 push 代码，如果 A 在两天前更新了最新代码，开始新需求开发，两天后完成开发直接本地 commit 并 push 到 remote，遇到是否强制提交的提示没注意看，直接选择了强制提交，就会将这两天其他人已经提交的内容覆盖。

如何避免：开发分支我们正常不应该直接 push 和强制提交（gitlab 仓库中进行配置），提交代码通过本地新建分支，提交 MergeRequest 的方式提交，检查 changes 里都是自己修改的内容，并且与目标分支不存在冲突后，再合并代码。

#### 二、我改了多少代码？
如果我统计一阶段改了多少代码？
在Gitlab 上选择author 指向自己一搜索，能看见我一共提交了多少个Merge Request，
点开每个Merge request中间就可以看到我新增了多少行，减少了多少行代码加在一起就是我这个MR有多少修改量，
也是使用 Merge Request 提交代码的另一个好处。

#### 三、 RedisFlushMode 报错了？
集成门户 `hsaf-auth-security` jar后，启动服务报错如图：RedisFlushMode ，
第一反应redis的问题，检查redis 的配置无误；

清缓存：clean idea 的缓存，无效；

copy jar 包无效，质疑自己的缓存的；

执行了 mvn clean package，最终所有包都能正常启动。

#### 四、Java.lang.Exception 抛不出来？
核心版的期初导入相关模块，将数据导入到商品信息，
会有这样的现象：假设有22条数据，前十条和最后一条数据正常导入，中间十条由于十条中的某一条报错导致所有都未导入。

分析代码：发现代码逻辑将一堆数据放到线程池中，线程池中数据按照线程10份去划分，在取余，也就是上边22条除以10，取余，分成3个线程。但实际并未抛出具体哪一条异常信息。

解决办法：在实现类中加异常并未生效，在分成每个线程之前去加这个异常信息，将所有报错信息放在集合中，统一抛出。


#### 五、除了 For 还有其它方式？
假设判断一个集合中的某一属性code的值是否重复，除了两层for循环，还有一种方式？

使用 Stream 流的方式去直接过滤，通过Collectors.counting()的方法属性，如果counting的值大于1，说明这个集合的code是重复的，可以把这个重复的值拿出来做其它操作或者提示异常信息等。

#### 其它想说的话：
我认为代码是基础、数据库是执行者、工具是效率、核心版追求完美。

对于代码，随着模块的逐渐增多，打包基本都在100M左右，可以清除一些弃用文件以及代码工具生成的冗余代码；

对于数据库，解决大家的痛点：视图套视图的问题；

我理解的核心板应该是新需求及时更新、医保接口以及连锁都可直接复用，使核心产品更追求完美。

之前公司 Learning 网站像时间管理模块还是很受益的，可以继续分享一些技术、有趣的文章以及喜剧综艺等，毕竟好东西大家一起分享，一起进步，一起开心。

### 2022加油
#### 一、公司
- 应该积极沟通，充分了解实施的需求，熟练运用技术手段解决用户的问题；
- 珍惜参加项目的机会，可以更多的积累经验并总结规律，来提供自己的工作效率；
#### 二、个人自豪感荣誉感、规划

不知道大家有没有感触，对于其他城市可能感触不深、但对于现在我们在的这个城市，
当去药店买药，虽然说我并没有直接去参与沈阳医保上线，看见药店在用我们开发的产品，心里还是会有那么一小点的自豪感和荣誉感。
我很庆幸能够在我们部门，能够尽自己的一点绵薄之力能够服务于社会。

未来的一年我会继续学习项目管理的知识，提高自己的知识储备量；
公众号博客每月都有高质量文章输出；
严格要求自己去认真的对待身边的每一件事；

最后对自己和大家说一声2022新的一年，加油！
最后，祝大家平安夜快乐！
